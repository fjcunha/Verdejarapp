{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/newaccount/newaccount.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n/**\n * Generated class for the NewaccountPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-newaccount',\n  templateUrl: 'newaccount.html',\n})\nexport class NewaccountPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad NewaccountPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/newaccount/newaccount.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, MenuController, ToastController, LoadingController } from 'ionic-angular';\nimport { NewaccountPage } from '../newaccount/newaccount';\nimport { UsuarioProvider } from '../../providers/usuario/usuario';\nimport { StorageProvider } from '../../providers/storage/storage';\nimport { IUsuario } from '../../interfaces/IUsuario';\n\n@IonicPage()\n@Component({\n\tselector: 'page-login',\n\ttemplateUrl: 'login.html',\n})\nexport class LoginPage {\n\n\t_customer: IUsuario = {\n\t\temail: '',\n\t\tpassword: '',\n\t\ttoken: ''\n\t};\n\n\ttmpToken = [];\n\t\n\tloading;\n\t\n\tconstructor(public navCtrl: NavController, public navParams: NavParams,\n\t\tpublic menuCtrl: MenuController, public customerProvider: UsuarioProvider, \n\t\tpublic storageProvider: StorageProvider,\n\t\tpublic toastController: ToastController,public loadingCtrl: LoadingController\n\t\t) {\n\t\t\tthis.storageProvider.GetStorage('VerdejarUser').then(val => {\n\t\t\t\tif(val) {\n\t\t\t\t\tthis.presentLoading();\n\t\t\t\t\tthis.storageProvider.SetStorage('VerdejarUser', null);\n\t\t\t\t\tthis.menuCtrl.enable(false, 'auth');\n\t\t\t\t\tthis.menuCtrl.enable(true, 'unauth');\n\t\t\t\t\tthis.dismissLoading();\n\t\t\t\t\tthis.navCtrl.setRoot(LoginPage);\n\t\t\t\t}\t\n\t\t\t})\n\t}\n\n    ionViewDidLoad() {\n\t}\n\n\tregisterLink(param) {\n\t\tthis.navCtrl.push(NewaccountPage, { param });\n\t}\n\n\tlogin() {\t\t\n\t\tthis.presentLoading();\n\t\tthis.customerProvider.loginCustomer(this._customer).subscribe(res => {\n\t\t\t\tthis._customer = res;\n\t\t\t\tconsole.log(res);\n\t\t\t\tif(res){\n\t\t\t\t\tthis.GetUserData(this._customer.token);\t\n\t\t\t\t}\t\n\t\t\t\telse{\n\t\t\t\t\tthis.dismissLoading();\n\t\t\t\t}\n\n\t\t\t},\n\t\t\t\terro => {\n\t\t\t\t\tthis.dismissLoading();\n\t\t\t\t\tconsole.log(erro.text);\n\t\t\t\t\tthis.presentToast(erro.error, 'middle');\n\t\t\t}\n\t\t)\n\n\t}\n\n\n\tGetUserData(token:string){\n\t\tthis.customerProvider.UserData(token).subscribe(retorno => {\n\t\t\t\t//Salva os dados dentro do banco de dados\n\t\t\t\tthis._customer = retorno;\n\t\t\t\tthis._customer.token = token;\n\t\t\t\tthis.storageProvider.SetStorage('VerdejarUser', this._customer);\n\t\t\t\tthis.menuCtrl.enable(true, 'auth');\n\t\t\t\tthis.menuCtrl.enable(false, 'unauth');\n\t\t\t\tthis.dismissLoading();\n\t\t\t\tthis.navCtrl.setRoot('HomePage');\n\t\t\t}\n\t\t\t,\n\t\t\terro => {\n\t\t\t\tthis.dismissLoading();\n\t\t\t\tthis.presentToast(erro.error, 'middle');\n\t\t\t}\n\t\t\n\t\t);\n\t}\n\n\tpresentToast(msg: string, pPosition: string) {\n\t\tlet toast = this.toastController.create({\n\t\t\tmessage: msg,\n\t\t\tduration: 3000,\n\t\t\tposition: pPosition\n\t\t});\n\t\ttoast.present();\n\t}\n\t\n\tpresentLoading() {\n\t\tif(!this.loading){\n\t\t\tthis.loading = this.loadingCtrl.create();\n\t\t\tthis.loading.present();\n\t\t}\n\t}\n\n\tdismissLoading(){\n\t\tif(this.loading){\n\t\t\tthis.loading.dismiss();\n\t\t\tthis.loading = null;\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}